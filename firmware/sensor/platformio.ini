; Waggle Sensor Node — ESP32 deep-sleep sensor beacon
; Reads HX711 (weight), BME280 (env), battery ADC, then transmits
; a 32-byte ESP-NOW payload to the bridge and returns to deep sleep.

[env:sensor]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
lib_deps =
    bogde/HX711@^0.7.5
    adafruit/Adafruit BME280 Library@^2.2.4
    adafruit/Adafruit Unified Sensor@^1.1.14
test_framework = unity
build_flags =
    -DCORE_DEBUG_LEVEL=3

; Native test environment — runs payload unit tests on host (no hardware)
[env:native]
platform = native
test_framework = unity
build_flags =
    -DUNIT_TEST
    -std=c++11
