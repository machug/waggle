; Waggle Bridge — ESP32 ESP-NOW to USB-serial gateway
; Receives 32-byte sensor payloads via ESP-NOW, prepends sender MAC,
; COBS-encodes the 38-byte frame, and sends over serial to the Pi hub.

[env:bridge]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
test_framework = unity
build_flags =
    -DCORE_DEBUG_LEVEL=3

; Native test environment — runs COBS unit tests on host (no hardware)
[env:native]
platform = native
test_framework = unity
test_build_src = true
build_flags =
    -DUNIT_TEST
    -std=c++11
